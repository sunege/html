<!DOCTYPE html>
<html lang="ja">
  <head>
    <title>pitch name</title>
    <meta charset="UTF-8"/>
    <style>
.center{
  width: 360px;
  height: 780px;
  margin: 0 auto;
  margin-top: 100px;
}
    </style>
  </head>
  <body>
    <div class="center">
      <label id="lbl1" style="padding:40px;font-size:300px;"></label>
      <br/>
      <label id="lbl2" style="font-size:40px">○　○　○　○</label>
      <br/>
      <br/>
      <br/>
      <button id="btn1" onclick="myclick()" style="padding:40px;font-size:250px;">N</button>
    </div>

    <script type="text/javascript"/>
let pitch_names = "ABCDEFG";
let cnt = 0;
let cnt_string = ["○　○　○　○", "●　○　○　○", "●　●　○　○", "●　●　●　○", "●　●　●　●"];


function print_pitch_name( num ){
  document.getElementById("lbl1").innerText = pitch_names[ num ];
}

function print_cnt_string( num ){
  document.getElementById("lbl2").innerText = cnt_string[ num ];
}

function myclick(){
  let rnd = Math.floor( Math.random() * 7 );
  print_pitch_name(rnd);
  cnt = 0;
  print_cnt_string(0);
}

let sleep = waitTime => new Promise( resolve => setTimeout(resolve, waitTime) );

print_pitch_name(0);
print_cnt_string(0);


const loop = () => sleep( 1000 )
  .then( () => {
    cnt++;
    if (cnt >= 5){
      myclick();
    }
    print_cnt_string(cnt);
    loop();
});

loop();

    </script>
  </body>
</html>




